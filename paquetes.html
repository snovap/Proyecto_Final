<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--==========FAVICON ==========-->
    <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">

    <!--========== REMIXICONS========-->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"
    rel="stylesheet"/>

    <!--========== CSS ===============-->
    <link rel="stylesheet" href="assets/css/styles.css">

    <title>Paquetes Turísticos</title>
    
   
</head>
<body>
  
    <!--========== HEADER ==========-->
    <header>
        <nav class="nav container">
            <div class="nav__menu" id="nav-menu">
                <a href="index.html" class="nav__logo" >SPGMETA</a>
            </div>
            <ul class="nav__list">
                <li class="nav__item"><a href="index.html" class="nav__link">Inicio</a></li>
                <li class="nav__item"><a href="index.html#nosotros" class="nav__link">Nosotros</a></li>
                <li class="nav__item"><a href="index.html#atractivos" class="nav__link">Atractivos</a></li>
                <li class="nav__item"><a href="index.html#paquetes" class="nav__link">Paquetes</a></li>
                <li class="nav__item"><a href="index.html#vuelos" class="nav__link">Vuelos</a></li>
                <li class="nav__item"><a href="index.html#explore" class="nav__link">Explore</a></li>
            </ul>
        </nav>
    </header>

    <div class="container mt-5">
        <h1 class="text-center">Paquetes Turísticos</h1>

        <!-- Carrusel de Paquetes -->
        <div class="paquetes-carousel">
            <!-- Paquete 1 -->
            <div class="paquete-card">
                <div class="card-body">
                    <h5 class="card-title">Despertar Amazónico</h5>
                    <p class="card-text">5 días, 4 noches</p>
                    <p class="card-text">Precio: $500</p>
                </div>
            </div>

            <!-- Paquete 2 -->
            <div class="paquete-card">
                <div class="card-body">
                    <h5 class="card-title">Aventura</h5>
                    <p class="card-text">3 días, 2 noches</p>
                    <p class="card-text">Precio: $600</p>
                </div>
            </div>

            <!-- Paquete 3 -->
            <div class="paquete-card">
                <div class="card-body">
                    <h5 class="card-title">Aventura Familiar</h5>
                    <p class="card-text">4 días, 3 noches</p>
                    <p class="card-text">Precio: $700</p>
                </div>
            </div>

            <!-- Paquete 4 -->
            <div class="paquete-card">
                <div class="card-body">
                    <h5 class="card-title">Safari Amazónico</h5>
                    <p class="card-text">4 días, 3 noches</p>
                    <p class="card-text">Precio: $800</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5">
        <h2 class="text-center">Selecciona tu Paquete</h2>
        <form id="paqueteForm" action="procesar_paquete.php" method="POST" class="formulario-generico">
            <div class="form-group">
                <label for="nombre_paquete">Nombre del Paquete:</label>
                <select class="form-control" id="nombre_paquete" name="nombre_paquete" required onchange="actualizarFormulario()">
                    <option value="Despertar Amazónico" data-precio="500" data-descripcion="5 días, 4 noches">Despertar Amazónico - $500</option>
                    <option value="Aventura" data-precio="600" data-descripcion="3 días, 2 noches">Aventura - $600</option>
                    <option value="Aventura Familiar" data-precio="700" data-descripcion="4 días, 3 noches">Aventura Familiar - $700</option>
                    <option value="Safari Amazónico" data-precio="800" data-descripcion="4 días, 3 noches">Safari Amazónico - $800</option>
                </select>
            </div>

            <div class="form-group">
                <label for="descripcion">Descripción:</label>
                <textarea id="descripcion" name="descripcion" class="form-control" placeholder="Breve descripción del paquete" readonly></textarea>
            </div>

            <div class="form-group">
                <label for="precio">Precio (USD):</label>
                <input type="text" id="precio" name="precio" class="form-control" readonly>
            </div>

            <div class="form-group mt-3">
                <button type="button" class="formulario-generico__boton btn-warning" onclick="actualizarPrecio('reservar')">Reservar</button>
                <button type="button" class="formulario-generico__boton btn-success" onclick="actualizarPrecio('pagar')">Pagar</button>
            </div>
        </form>
    </div>

   
    <!--============ FOOTER ==========-->
    <footer class="footer" id="footer">
        <div class="footer__container container grid">
            <div class="footer__content grid">
                <div>
                    <a href="#" class="footer__logo">Explora</a>

                    <p class="footer__description">
                        Viaja con nosotros y explora <br>
                        El Amazonas sin límites.    
                    </p>
                </div>

                <div class="footer__data grid">
                    <div>
                        <h3 class="footer__title">Acerca de</h3>

                        <ul class="footer__links">
                            <li>
                                <a href="#" class="footer__link">Nosotros</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Caracteristicas</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Noticias & Blog</a>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="footer__title">Compañia</h3>

                        <ul class="footer__links">
                            <li>
                                <a href="#" class="footer__link">PQRs</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Historial</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Testimonios</a>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="footer__title">Contacto</h3>

                        <ul class="footer__links">
                            <li>
                                <a href="#" class="footer__link">Call Center</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Soporte</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Contactenos</a>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="footer__title">Soporte</h3>

                        <ul class="footer__links">
                            <li>
                                <a href="#" class="footer__link">Politica de privacidad</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Terminos & Condiciones</a>
                            </li>

                            <li>
                                <a href="#" class="footer__link">Pagos</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="footer__group">
                <div class="footer__social">    
                    <a href="https://www.facebook.com/" target="_blank" class="footer__social-link">
                        <i class="ri-facebook-line"></i>
                    </a>

                    <a href="https://www.instagram.com/" target="_blank" class="footer__social-link">
                        <i class="ri-instagram-line"></i>
                    </a>

                    <a href="https://twitter.com/" target="_blank" class="footer__social-link">
                        <i class="ri-twitter-line"></i>
                    </a>

                    <a href="https://www.youtube.com/" target="_blank" class="footer__social-link">
                        <i class="ri-youtube-line"></i>
                    </a>

                    <span class="footer__copy">
                        &#169; Copyright spgmeta. All rights reserved.
                    </span>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Función para actualizar la descripción del paquete seleccionado
        function actualizarFormulario() {
            const selectPaquete = document.getElementById('nombre_paquete');
            const descripcion = document.getElementById('descripcion');
            const selectedOption = selectPaquete.options[selectPaquete.selectedIndex];
            const descripcionPaquete = selectedOption.getAttribute('data-descripcion');
            descripcion.value = descripcionPaquete;
        }
    
        // Función para actualizar el precio en función del paquete seleccionado
        function actualizarPrecioSegunPaquete() {
            const selectPaquete = document.getElementById('nombre_paquete');
            const selectedOption = selectPaquete.options[selectPaquete.selectedIndex];
            const precioPaquete = selectedOption.getAttribute('data-precio');
    
            // Actualizamos el campo de precio con el valor del paquete seleccionado
            const precio = document.getElementById('precio');
            precio.value = "$" + precioPaquete;
        }
    
        // Función para actualizar el precio según la acción ('reservar' o 'pagar')
        function actualizarPrecio(accion) {
            const selectPaquete = document.getElementById('nombre_paquete');
            const selectedOption = selectPaquete.options[selectPaquete.selectedIndex];
            const precioPaquete = selectedOption.getAttribute('data-precio');
            const nombrePaquete = selectedOption.value;
            let precioFinal;
    
            // Si la acción es "reservar", el precio es la mitad (50%)
            if (accion === 'reservar') {
                precioFinal = precioPaquete / 2;
                // Guardar paquete y precio en localStorage
                localStorage.setItem('paqueteSeleccionado', nombrePaquete);
                localStorage.setItem('precioSeleccionado', precioFinal);
                mostrarConfirmacion('reservar');
            } else if (accion === 'pagar') {
                // Si la acción es "pagar", el precio es completo
                precioFinal = precioPaquete;
                // Guardar paquete y precio en localStorage
                localStorage.setItem('paqueteSeleccionado', nombrePaquete);
                localStorage.setItem('precioSeleccionado', precioFinal);
                mostrarConfirmacion('pagar');
            }
    
            const precio = document.getElementById('precio');
            precio.value = "$" + precioFinal;
        }
    
        // Función para mostrar una confirmación antes de redirigir
        function mostrarConfirmacion(accion) {
            let mensaje = '';
            let redireccion = '';
            if (accion === 'reservar') {
                mensaje = '¿Deseas proceder con la reserva?';
                redireccion = 'reservas.html';
            } else if (accion === 'pagar') {
                mensaje = '¿Deseas proceder con el pago completo?';
                redireccion = 'pagos.html';
            }
    
            if (confirm(mensaje)) {
                window.location.href = redireccion;
            }
        }
    
        // Función para validar que el usuario seleccione un paquete
        function validarFormulario() {
            const selectPaquete = document.getElementById('nombre_paquete');
            if (!selectPaquete.value) {
                alert('Por favor selecciona un paquete.');
                return false;
            }
            return true;
        }
    
        // Función que se ejecuta cuando se carga la página
        window.onload = function() {
            // Inicializar formulario
            actualizarFormulario();
    
            // Actualizar el precio del paquete por defecto
            actualizarPrecioSegunPaquete();
    
            const selectPaquete = document.getElementById('nombre_paquete');
            
            // Agregar evento para actualizar el precio cuando cambie el paquete seleccionado
            selectPaquete.addEventListener('change', function() {
                actualizarFormulario(); // Actualizar la descripción
                actualizarPrecioSegunPaquete(); // Actualizar el precio al cambiar de paquete
            });
        };
    </script>
    
    
   
</body>
</html>
